{"ast":null,"code":"import { NotificationManager } from \"react-notifications\";\nimport { LOGIN_USER, LOGIN_USER_SUCCESS, LOGIN_USER_FAILURE, LOGOUT_USER, SIGNUP_USER, SIGNUP_USER_SUCCESS, SIGNUP_USER_FAILURE } from \"./type\";\n/**\r\n * Redux Action to SignIn User with Firebase\r\n */\n// export const signinUserInFirebase = (user, history) => dispatch => {\n// dispatch({ type: LOGIN_USER });\n// firebase\n// .auth()\n// .signInWithEmailAndPassword(user.email, user.password)\n// .then(res => {\n//     dispatch({\n//         type: LOGIN_USER_SUCCESS,\n//         payload:\n//     })\n// })\n// }\n\n/**\r\n * Redux Action to signup user in Firebase\r\n */\n\nexport const signUp = data => async (dispatch, getState, {\n  getFirebase,\n  getFirestore\n}) => {\n  const firebase = getFirebase();\n  const firestore = getFirestore();\n  dispatch({\n    type: SIGNUP_USER\n  });\n\n  try {\n    const res = await firebase.auth().createUserWithEmailAndPassword(data.email, data.password); // Send the verfication email\n\n    const user = firebase.auth().currentUser;\n    await user.sendEmailVerification();\n    await firestore.collection(\"users\").doc(res.user.uid).set({\n      userName: data.userName\n    });\n    dispatch({\n      type: SIGNUP_USER_SUCCESS\n    });\n  } catch (err) {\n    dispatch({\n      type: SIGNUP_USER_FAILURE,\n      payload: err.message\n    });\n    NotificationManager.error(err.message);\n  }\n};","map":{"version":3,"sources":["C:/Users/Owner/Documents/cool-todo-list/src/store/actions/AuthActions.js"],"names":["NotificationManager","LOGIN_USER","LOGIN_USER_SUCCESS","LOGIN_USER_FAILURE","LOGOUT_USER","SIGNUP_USER","SIGNUP_USER_SUCCESS","SIGNUP_USER_FAILURE","signUp","data","dispatch","getState","getFirebase","getFirestore","firebase","firestore","type","res","auth","createUserWithEmailAndPassword","email","password","user","currentUser","sendEmailVerification","collection","doc","uid","set","userName","err","payload","message","error"],"mappings":"AAAA,SAASA,mBAAT,QAAoC,qBAApC;AACA,SACEC,UADF,EAEEC,kBAFF,EAGEC,kBAHF,EAIEC,WAJF,EAKEC,WALF,EAMEC,mBANF,EAOEC,mBAPF,QAQO,QARP;AAUA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;AAGA,OAAO,MAAMC,MAAM,GAAGC,IAAI,IAAI,OAC5BC,QAD4B,EAE5BC,QAF4B,EAG5B;AAAEC,EAAAA,WAAF;AAAeC,EAAAA;AAAf,CAH4B,KAIzB;AACH,QAAMC,QAAQ,GAAGF,WAAW,EAA5B;AACA,QAAMG,SAAS,GAAGF,YAAY,EAA9B;AACAH,EAAAA,QAAQ,CAAC;AAAEM,IAAAA,IAAI,EAAEX;AAAR,GAAD,CAAR;;AACA,MAAI;AACF,UAAMY,GAAG,GAAG,MAAMH,QAAQ,CACvBI,IADe,GAEfC,8BAFe,CAEgBV,IAAI,CAACW,KAFrB,EAE4BX,IAAI,CAACY,QAFjC,CAAlB,CADE,CAKF;;AACA,UAAMC,IAAI,GAAGR,QAAQ,CAACI,IAAT,GAAgBK,WAA7B;AACA,UAAMD,IAAI,CAACE,qBAAL,EAAN;AAEA,UAAMT,SAAS,CACZU,UADG,CACQ,OADR,EAEHC,GAFG,CAECT,GAAG,CAACK,IAAJ,CAASK,GAFV,EAGHC,GAHG,CAGC;AACHC,MAAAA,QAAQ,EAAEpB,IAAI,CAACoB;AADZ,KAHD,CAAN;AAMAnB,IAAAA,QAAQ,CAAC;AACPM,MAAAA,IAAI,EAAEV;AADC,KAAD,CAAR;AAGD,GAlBD,CAkBE,OAAOwB,GAAP,EAAY;AACZpB,IAAAA,QAAQ,CAAC;AAAEM,MAAAA,IAAI,EAAET,mBAAR;AAA6BwB,MAAAA,OAAO,EAAED,GAAG,CAACE;AAA1C,KAAD,CAAR;AACAhC,IAAAA,mBAAmB,CAACiC,KAApB,CAA0BH,GAAG,CAACE,OAA9B;AACD;AACF,CA9BM","sourcesContent":["import { NotificationManager } from \"react-notifications\";\r\nimport {\r\n  LOGIN_USER,\r\n  LOGIN_USER_SUCCESS,\r\n  LOGIN_USER_FAILURE,\r\n  LOGOUT_USER,\r\n  SIGNUP_USER,\r\n  SIGNUP_USER_SUCCESS,\r\n  SIGNUP_USER_FAILURE\r\n} from \"./type\";\r\n\r\n/**\r\n * Redux Action to SignIn User with Firebase\r\n */\r\n// export const signinUserInFirebase = (user, history) => dispatch => {\r\n// dispatch({ type: LOGIN_USER });\r\n// firebase\r\n// .auth()\r\n// .signInWithEmailAndPassword(user.email, user.password)\r\n// .then(res => {\r\n//     dispatch({\r\n//         type: LOGIN_USER_SUCCESS,\r\n//         payload:\r\n//     })\r\n// })\r\n// }\r\n\r\n/**\r\n * Redux Action to signup user in Firebase\r\n */\r\nexport const signUp = data => async (\r\n  dispatch,\r\n  getState,\r\n  { getFirebase, getFirestore }\r\n) => {\r\n  const firebase = getFirebase();\r\n  const firestore = getFirestore();\r\n  dispatch({ type: SIGNUP_USER });\r\n  try {\r\n    const res = await firebase\r\n      .auth()\r\n      .createUserWithEmailAndPassword(data.email, data.password);\r\n\r\n    // Send the verfication email\r\n    const user = firebase.auth().currentUser;\r\n    await user.sendEmailVerification();\r\n\r\n    await firestore\r\n      .collection(\"users\")\r\n      .doc(res.user.uid)\r\n      .set({\r\n        userName: data.userName\r\n      });\r\n    dispatch({\r\n      type: SIGNUP_USER_SUCCESS\r\n    });\r\n  } catch (err) {\r\n    dispatch({ type: SIGNUP_USER_FAILURE, payload: err.message });\r\n    NotificationManager.error(err.message);\r\n  }\r\n};\r\n"]},"metadata":{},"sourceType":"module"}