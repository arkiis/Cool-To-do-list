{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Owner\\\\Documents\\\\cool-todo-list\\\\src\\\\components\\\\Auth\\\\Login.js\";\nimport React, { useEffect } from \"react\"; // Redux\n\nimport { connect } from \"react-redux\";\nimport { NotificationManager } from \"react-notifications\";\nimport LinearProgress from \"@material-ui/core/LinearProgress\";\nimport { Formik, Field, Form } from \"formik\";\nimport * as Yup from \"yup\";\nimport { labels } from \"../../constants/index\"; // Actions\n\nimport { signIn, clean } from \"../../store/actions/AuthActions\";\nimport { hideModal } from \"../../store/actions/ModalActions\";\nimport Input from \"../Forms/Input.js\";\nimport Message from \"../Message\";\nimport Modal from \"../Modal\";\nconst LoginSchema = Yup.object().shape({\n  email: Yup.string().email(`email dosen't work :/`).required(\"You need an email silly!\"),\n  password: Yup.string().required(\"You need a password silly!\").min(8, \"Too short\")\n});\n\nconst Login = ({\n  signIn,\n  loading,\n  error,\n  hideModal,\n  cleanUp\n}) => {\n  useEffect(() => {\n    return () => {\n      cleanUp();\n    };\n  }, [cleanUp]);\n\n  const onClose = () => {\n    hideModal();\n  };\n\n  const onSubmit = () => {\n    hideModal();\n  };\n\n  return React.createElement(Formik, {\n    initialValues: {\n      email: \"\",\n      password: \"\"\n    },\n    validationSchema: LoginSchema,\n    onSubmit: async (values, {\n      setSubmitting\n    }) => {\n      await signIn(values);\n      setSubmitting(false);\n      onSubmit();\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40\n    },\n    __self: this\n  }, ({\n    isSubmitting,\n    isValid\n  }) => React.createElement(Modal, {\n    title: \"Sign In\",\n    onClose: onClose,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53\n    },\n    __self: this\n  }, React.createElement(Form, {\n    className: \"signUpWrapper\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54\n    },\n    __self: this\n  }, React.createElement(Field, {\n    type: \"email\",\n    label: labels.email,\n    name: \"email\",\n    component: Input,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55\n    },\n    __self: this\n  }), React.createElement(Field, {\n    type: \"password\",\n    label: labels.password,\n    name: \"password\",\n    component: Input,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61\n    },\n    __self: this\n  }), React.createElement(\"button\", {\n    disabled: !isValid || isSubmitting,\n    type: \"submit\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68\n    },\n    __self: this\n  }, \"Sign in\"), loading && React.createElement(\"div\", {\n    style: {\n      textAlign: \"center\"\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72\n    },\n    __self: this\n  }, React.createElement(LinearProgress, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73\n    },\n    __self: this\n  })), React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76\n    },\n    __self: this\n  }, React.createElement(Message, {\n    error: true,\n    show: error,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77\n    },\n    __self: this\n  }, NotificationManager.error({\n    error\n  }))))));\n};\n\nconst mapStateToProps = ({\n  auth\n}) => ({\n  loading: auth.loading,\n  error: auth.error\n});\n\nconst mapDispatchToProps = {\n  signIn: signIn,\n  hideModal: () => hideModal(),\n  cleanUp: clean\n};\nexport default connect(mapStateToProps, mapDispatchToProps)(Login);","map":{"version":3,"sources":["C:/Users/Owner/Documents/cool-todo-list/src/components/Auth/Login.js"],"names":["React","useEffect","connect","NotificationManager","LinearProgress","Formik","Field","Form","Yup","labels","signIn","clean","hideModal","Input","Message","Modal","LoginSchema","object","shape","email","string","required","password","min","Login","loading","error","cleanUp","onClose","onSubmit","values","setSubmitting","isSubmitting","isValid","textAlign","mapStateToProps","auth","mapDispatchToProps"],"mappings":"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","sourcesContent":["import React, { useEffect } from \"react\";\r\n// Redux\r\nimport { connect } from \"react-redux\";\r\nimport { NotificationManager } from \"react-notifications\";\r\nimport LinearProgress from \"@material-ui/core/LinearProgress\";\r\nimport { Formik, Field, Form } from \"formik\";\r\nimport * as Yup from \"yup\";\r\nimport { labels } from \"../../constants/index\";\r\n// Actions\r\nimport { signIn, clean } from \"../../store/actions/AuthActions\";\r\nimport { hideModal } from \"../../store/actions/ModalActions\";\r\nimport Input from \"../Forms/Input.js\";\r\nimport Message from \"../Message\";\r\nimport Modal from \"../Modal\";\r\n\r\nconst LoginSchema = Yup.object().shape({\r\n  email: Yup.string()\r\n    .email(`email dosen't work :/`)\r\n    .required(\"You need an email silly!\"),\r\n  password: Yup.string()\r\n    .required(\"You need a password silly!\")\r\n    .min(8, \"Too short\")\r\n});\r\n\r\nconst Login = ({ signIn, loading, error, hideModal, cleanUp }) => {\r\n  useEffect(() => {\r\n    return () => {\r\n      cleanUp();\r\n    };\r\n  }, [cleanUp]);\r\n\r\n  const onClose = () => {\r\n    hideModal();\r\n  };\r\n  const onSubmit = () => {\r\n    hideModal();\r\n  };\r\n\r\n  return (\r\n    <Formik\r\n      initialValues={{\r\n        email: \"\",\r\n        password: \"\"\r\n      }}\r\n      validationSchema={LoginSchema}\r\n      onSubmit={async (values, { setSubmitting }) => {\r\n        await signIn(values);\r\n        setSubmitting(false);\r\n        onSubmit();\r\n      }}\r\n    >\r\n      {({ isSubmitting, isValid }) => (\r\n        <Modal title=\"Sign In\" onClose={onClose}>\r\n          <Form className=\"signUpWrapper\">\r\n            <Field\r\n              type=\"email\"\r\n              label={labels.email}\r\n              name=\"email\"\r\n              component={Input}\r\n            />\r\n            <Field\r\n              type=\"password\"\r\n              label={labels.password}\r\n              name=\"password\"\r\n              component={Input}\r\n            />\r\n\r\n            <button disabled={!isValid || isSubmitting} type=\"submit\">\r\n              Sign in\r\n            </button>\r\n            {loading && (\r\n              <div style={{ textAlign: \"center\" }}>\r\n                <LinearProgress />\r\n              </div>\r\n            )}\r\n            <div>\r\n              <Message error show={error}>\r\n                {NotificationManager.error({ error })}\r\n              </Message>\r\n            </div>\r\n          </Form>\r\n        </Modal>\r\n      )}\r\n    </Formik>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = ({ auth }) => ({\r\n  loading: auth.loading,\r\n  error: auth.error\r\n});\r\nconst mapDispatchToProps = {\r\n  signIn: signIn,\r\n  hideModal: () => hideModal(),\r\n  cleanUp: clean\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Login);\r\n"]},"metadata":{},"sourceType":"module"}