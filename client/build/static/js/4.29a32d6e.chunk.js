(this["webpackJsonpcool-todo-list"]=this["webpackJsonpcool-todo-list"]||[]).push([[4],{530:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),o=a(6),r=a(43),l=a(62),s=a(205),i=a(13),d=function(e){var t=e.project,a=Object(n.useState)(!1),d=Object(o.a)(a,2),u=d[0],m=d[1],b=Object(l.c)(),j=b.projects,p=b.setProjects,E=Object(l.d)().setSelectedProject;console.log("showConfirm",u);return c.a.createElement(c.a.Fragment,null,c.a.createElement("span",{className:"sidebar__dot"},"\u2726"),c.a.createElement("span",{className:"sidebar__project-name"},t.name),c.a.createElement("span",{className:"sidebar__project-delete","data-testid":"delete-project",onClick:function(){return m(!u)},onKeyDown:function(){return m(!u)},tabIndex:0,role:"button","aria-label":"Confirm deletionn of project"},c.a.createElement(r.j,null),u&&c.a.createElement("div",{className:"project-delete-modal"},c.a.createElement("div",{className:"project-delete-modal__inner"},c.a.createElement("p",null,"Are you sure you want to delete this project?"),c.a.createElement("button",{type:"button",onClick:function(){return e=t.docId,void i.a.firestore().collection("projects").doc(e).delete().then((function(){p(Object(s.a)(j)),E("INBOX")}));var e}},"Delete"),c.a.createElement("span",{onClick:function(){return m(!u)},onKeyDown:function(){return m(!u)},tabIndex:0,role:"button","aria-label":"Cancel adding project, do not delete"},"Cancel")))))},u=function(e){var t=e.activeValue,a=void 0===t?null:t,r=Object(n.useState)(a),s=Object(o.a)(r,2),i=s[0],u=s[1],m=Object(l.d)().setSelectedProject,b=Object(l.c)().projects;return console.log("active",i),b&&b.map((function(e){return c.a.createElement("li",{key:e.projectId,"data-testid":"project-action-parent","data-doc-id":e.docId,className:i===e.projectId?"active sidebar__project":"sidebar__project"},c.a.createElement("div",{role:"button","data-testid":"project-action",tabIndex:0,"aria-label":"Select ".concat(e.name," as the task project"),onClick:function(){u(e.projectId),m(e.projectId)},onKeyDown:function(){u(e.projectId),m(e.projectId)}},c.a.createElement(d,{project:e})))}))},m=a(140),b=a(9),j=Object(b.b)((function(e){return{loggedIn:e.firebase.auth}}),null)((function(e){var t=e.shouldShow,a=void 0!==t&&t,r=e.loggedIn,d=Object(n.useState)(a),u=Object(o.a)(d,2),b=u[0],j=u[1],p=Object(n.useState)(""),E=Object(o.a)(p,2),f=E[0],v=E[1],O=Object(m.b)(),_=Object(l.c)(),k=_.projects,N=_.setProjects;console.log("loggedIn",r);return c.a.createElement("div",{className:"add-project","data-testid":"add-project"},b&&c.a.createElement("div",{className:"add-project__input","data-testid":"add-project-inner"},c.a.createElement("input",{value:f,onChange:function(e){return v(e.target.value)},className:"add-project__name","data-testid":"project-name",type:"text",placeholder:"Name your project"}),c.a.createElement("button",{className:"add-project__submit",type:"button",onClick:function(){return f&&i.a.firestore().collection("projects").add({projectId:O,name:f,userId:r.uid}).then((function(){N(Object(s.a)(k)),v(""),j(!1)}))},"data-testid":"add-project-submit"},"Add Project"),c.a.createElement("span",{"data-testid":"hide-project-overlay",className:"add-project__cancel",onClick:function(){return j(!1)},onKeyDown:function(){return j(!1)},role:"button",tabIndex:0},"Cancel")),c.a.createElement("span",{className:"add-project__plus"},"+"),c.a.createElement("span",{"aria-label":"Add Project","data-testid":"add-project-action",className:"add-project-action",onClick:function(){return j(!b)},onKeyDown:function(){return j(!b)},role:"button",tabIndex:0},"Add Project"))})),p=function(){var e=Object(l.d)().setSelectedProject,t=Object(n.useState)("inbox"),a=Object(o.a)(t,2),s=a[0],i=a[1],d=Object(n.useState)(!0),m=Object(o.a)(d,2),b=m[0],p=m[1];return c.a.createElement("div",{className:"sidebar","data-testid":"sidebar"},c.a.createElement("ul",{className:"sidebar__generic"},c.a.createElement("li",{"data-testid":"inbox",className:"inbox"===s?"active":void 0},c.a.createElement("div",{"data-testid":"inbox-action",onClick:function(){i("inbox"),e("INBOX")},onKeyDown:function(){i("inbox"),e("INBOX")},"aria-label":"Show tasks for Inbox"},c.a.createElement("span",null,c.a.createElement(r.b,null)),c.a.createElement("span",null,"Inbox"))),c.a.createElement("li",{"data-testid":"inbox",className:"today"===s?"active":void 0},c.a.createElement("div",{"data-testid":"inbox-action",onClick:function(){i("today"),e("TODAY")},onKeyDown:function(){i("today"),e("TODAY")},"aria-label":"Show tasks for today"},c.a.createElement("span",null,c.a.createElement(r.d,null)),c.a.createElement("span",null,"Today"))),c.a.createElement("li",{"data-testid":"inbox",className:"next_7"===s?"active":void 0},c.a.createElement("div",{"data-testid":"inbox-action",onClick:function(){i("next_7"),e("NEXT_7")},onKeyDown:function(){i("next_7"),e("NEXT_7")},"aria-label":"Show tasks for next 7 Days"},c.a.createElement("span",null,c.a.createElement(r.e,null)),c.a.createElement("span",null,"Next 7 days")))),c.a.createElement("div",{className:"sidebar__middle",onClick:function(){return p(!b)},onKeyDown:function(){return p(!b)},role:"button","aria-label":"show projects"},c.a.createElement("span",null,c.a.createElement(r.a,{className:b?void 0:"hidden-projects"})),c.a.createElement("h2",null,"Projects")),c.a.createElement("ul",{className:"sidebar__projects"}," ",b&&c.a.createElement(u,null)),b&&c.a.createElement(j,null))},E=function(e){var t=e.id,a=e.taskDesc,n=function(){i.a.firestore().collection("tasks").doc(t).update({archived:!0})};return c.a.createElement("div",{className:"checkbox-holder","data-testid":"checkbox-action",onClick:function(){return n()},onKeyDown:function(){return n()},"aria-label":"Mark ".concat(a," as done?"),role:"button",tabIndex:0},c.a.createElement("span",{className:"checkbox"}))},f=a(288),v=a(281),O=a(30),_=function(){var e=Object(l.d)().selectedProject,t=Object(l.c)().projects,a=Object(v.b)(e).tasks,o="";return Object(m.a)(e)&&e&&(o=Object(m.c)(O.a,e).name),t&&t.length>0&&e&&!Object(m.a)(e)&&(o=Object(m.e)(t,e).name),Object(n.useEffect)((function(){document.title="".concat(o,": Todoist")})),c.a.createElement("div",{className:"tasks","data-testid":"tasks"},c.a.createElement("h2",{"data-testid":"project-name"},o),c.a.createElement("ul",{className:"tasks__list"},a.map((function(e){return c.a.createElement("li",{key:"".concat(e.id)},c.a.createElement(E,{id:e.id,taskDesc:e.task}),c.a.createElement("span",null,e.task))}))),c.a.createElement(f.a,null))};t.default=function(){return c.a.createElement("section",{className:"content"},c.a.createElement(p,null),c.a.createElement(_,null))}}}]);
//# sourceMappingURL=4.29a32d6e.chunk.js.map