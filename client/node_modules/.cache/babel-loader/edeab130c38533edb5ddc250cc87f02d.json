{"ast":null,"code":"import _slicedToArray from\"C:\\\\Users\\\\Owner\\\\Documents\\\\cool-todo-list\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from\"react\";import ExpandMoreIcon from\"@material-ui/icons/ExpandMore\";import ChevronRightIcon from\"@material-ui/icons/ChevronRight\";import ExitToApp from\"@material-ui/icons/ExitToApp\";import{Link,NavLink}from\"react-router-dom\";import{connect}from\"react-redux\";import{firebase}from\"../firebase\";import{getSingleLetter}from\"../helpers/index\";var Dropdown=function Dropdown(_ref){var loggedIn=_ref.loggedIn;var _useState=useState(false),_useState2=_slicedToArray(_useState,2),profileMenu=_useState2[0],setProfileMenu=_useState2[1];var _useState3=useState({}),_useState4=_slicedToArray(_useState3,2),name=_useState4[0],setName=_useState4[1];var onMouseMenuHandler=function onMouseMenuHandler(){setProfileMenu(!profileMenu);};console.log(loggedIn.uid);useEffect(function(){firebase.firestore().collection(\"users\").doc(loggedIn.uid).get().then(function(doc){if(doc.exists){setName(doc.data());}else{// doc.data() will be undefined in this case\nconsole.log(\"No such document!\");}});},[]);return React.createElement(\"div\",{className:\"user-profile-menu\"},React.createElement(\"div\",{className:\"user-avatar\"},name&&name.userName&&getSingleLetter(name.userName)),React.createElement(\"div\",{className:\"user-drop-down-icon\",onClick:onMouseMenuHandler},React.createElement(ExpandMoreIcon,null)),profileMenu&&React.createElement(\"div\",{className:\"user-profile-menu-panel\"},React.createElement(\"div\",{className:\"menu-item\"},React.createElement(\"span\",null,\"Try Premium\"),React.createElement(ChevronRightIcon,null)),React.createElement(\"div\",{className:\"menu-item\"},React.createElement(\"span\",null,\"Settings\"),React.createElement(ChevronRightIcon,null)),React.createElement(\"hr\",null),React.createElement(\"div\",{className:\"menu-log-out\"},React.createElement(ExitToApp,null),React.createElement(NavLink,{to:\"/home/logout\"},\"Log Out\"))));};var mapStateToProps=function mapStateToProps(_ref2){var firebase=_ref2.firebase;return{loggedIn:firebase.auth};};export default connect(mapStateToProps,null)(Dropdown);","map":{"version":3,"sources":["C:/Users/Owner/Documents/cool-todo-list/client/src/components/Dropdown.js"],"names":["React","useState","useEffect","ExpandMoreIcon","ChevronRightIcon","ExitToApp","Link","NavLink","connect","firebase","getSingleLetter","Dropdown","loggedIn","profileMenu","setProfileMenu","name","setName","onMouseMenuHandler","console","log","uid","firestore","collection","doc","get","then","exists","data","userName","mapStateToProps","auth"],"mappings":"yIAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,CAA0BC,SAA1B,KAA2C,OAA3C,CACA,MAAOC,CAAAA,cAAP,KAA2B,+BAA3B,CACA,MAAOC,CAAAA,gBAAP,KAA6B,iCAA7B,CACA,MAAOC,CAAAA,SAAP,KAAsB,8BAAtB,CACA,OAASC,IAAT,CAAeC,OAAf,KAA8B,kBAA9B,CACA,OAASC,OAAT,KAAwB,aAAxB,CACA,OAASC,QAAT,KAAyB,aAAzB,CACA,OAASC,eAAT,KAAgC,kBAAhC,CAEA,GAAMC,CAAAA,QAAQ,CAAG,QAAXA,CAAAA,QAAW,MAAkB,IAAfC,CAAAA,QAAe,MAAfA,QAAe,eACKX,QAAQ,CAAC,KAAD,CADb,wCAC1BY,WAD0B,eACbC,cADa,8BAETb,QAAQ,CAAC,EAAD,CAFC,yCAE1Bc,IAF0B,eAEpBC,OAFoB,eAIjC,GAAMC,CAAAA,kBAAkB,CAAG,QAArBA,CAAAA,kBAAqB,EAAM,CAC/BH,cAAc,CAAC,CAACD,WAAF,CAAd,CACD,CAFD,CAGAK,OAAO,CAACC,GAAR,CAAYP,QAAQ,CAACQ,GAArB,EACAlB,SAAS,CAAC,UAAM,CACdO,QAAQ,CACLY,SADH,GAEGC,UAFH,CAEc,OAFd,EAGGC,GAHH,CAGOX,QAAQ,CAACQ,GAHhB,EAIGI,GAJH,GAKGC,IALH,CAKQ,SAASF,GAAT,CAAc,CAClB,GAAIA,GAAG,CAACG,MAAR,CAAgB,CACdV,OAAO,CAACO,GAAG,CAACI,IAAJ,EAAD,CAAP,CACD,CAFD,IAEO,CACL;AACAT,OAAO,CAACC,GAAR,CAAY,mBAAZ,EACD,CACF,CAZH,EAaD,CAdQ,CAcN,EAdM,CAAT,CAeA,MACE,4BAAK,SAAS,CAAC,mBAAf,EACE,2BAAK,SAAS,CAAC,aAAf,EACGJ,IAAI,EAAIA,IAAI,CAACa,QAAb,EAAyBlB,eAAe,CAACK,IAAI,CAACa,QAAN,CAD3C,CADF,CAIE,2BAAK,SAAS,CAAC,qBAAf,CAAqC,OAAO,CAAEX,kBAA9C,EACE,oBAAC,cAAD,MADF,CAJF,CAOGJ,WAAW,EACV,2BAAK,SAAS,CAAC,yBAAf,EACE,2BAAK,SAAS,CAAC,WAAf,EACE,8CADF,CAGE,oBAAC,gBAAD,MAHF,CADF,CAME,2BAAK,SAAS,CAAC,WAAf,EACE,2CADF,CAEE,oBAAC,gBAAD,MAFF,CANF,CAWE,8BAXF,CAYE,2BAAK,SAAS,CAAC,cAAf,EACE,oBAAC,SAAD,MADF,CAEE,oBAAC,OAAD,EAAS,EAAE,CAAC,cAAZ,YAFF,CAZF,CARJ,CADF,CA6BD,CApDD,CAsDA,GAAMgB,CAAAA,eAAe,CAAG,QAAlBA,CAAAA,eAAkB,WAAGpB,CAAAA,QAAH,OAAGA,QAAH,OAAmB,CACzCG,QAAQ,CAAEH,QAAQ,CAACqB,IADsB,CAAnB,EAAxB,CAIA,cAAetB,CAAAA,OAAO,CAACqB,eAAD,CAAkB,IAAlB,CAAP,CAA+BlB,QAA/B,CAAf","sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport ExpandMoreIcon from \"@material-ui/icons/ExpandMore\";\r\nimport ChevronRightIcon from \"@material-ui/icons/ChevronRight\";\r\nimport ExitToApp from \"@material-ui/icons/ExitToApp\";\r\nimport { Link, NavLink } from \"react-router-dom\";\r\nimport { connect } from \"react-redux\";\r\nimport { firebase } from \"../firebase\";\r\nimport { getSingleLetter } from \"../helpers/index\";\r\n\r\nconst Dropdown = ({ loggedIn }) => {\r\n  const [profileMenu, setProfileMenu] = useState(false);\r\n  const [name, setName] = useState({});\r\n\r\n  const onMouseMenuHandler = () => {\r\n    setProfileMenu(!profileMenu);\r\n  };\r\n  console.log(loggedIn.uid);\r\n  useEffect(() => {\r\n    firebase\r\n      .firestore()\r\n      .collection(\"users\")\r\n      .doc(loggedIn.uid)\r\n      .get()\r\n      .then(function(doc) {\r\n        if (doc.exists) {\r\n          setName(doc.data());\r\n        } else {\r\n          // doc.data() will be undefined in this case\r\n          console.log(\"No such document!\");\r\n        }\r\n      });\r\n  }, []);\r\n  return (\r\n    <div className=\"user-profile-menu\">\r\n      <div className=\"user-avatar\">\r\n        {name && name.userName && getSingleLetter(name.userName)}\r\n      </div>\r\n      <div className=\"user-drop-down-icon\" onClick={onMouseMenuHandler}>\r\n        <ExpandMoreIcon />\r\n      </div>\r\n      {profileMenu && (\r\n        <div className=\"user-profile-menu-panel\">\r\n          <div className=\"menu-item\">\r\n            <span>Try Premium</span>\r\n\r\n            <ChevronRightIcon />\r\n          </div>\r\n          <div className=\"menu-item\">\r\n            <span>Settings</span>\r\n            <ChevronRightIcon />\r\n          </div>\r\n\r\n          <hr />\r\n          <div className=\"menu-log-out\">\r\n            <ExitToApp />\r\n            <NavLink to=\"/home/logout\">Log Out</NavLink>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = ({ firebase }) => ({\r\n  loggedIn: firebase.auth\r\n});\r\n\r\nexport default connect(mapStateToProps, null)(Dropdown);\r\n"]},"metadata":{},"sourceType":"module"}