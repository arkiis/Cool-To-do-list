{"ast":null,"code":"import _slicedToArray from\"C:\\\\Users\\\\Owner\\\\Documents\\\\cool-todo-list\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from\"react\";var Checkout=function Checkout(_ref){var price=_ref.price;var _useState=useState(false),_useState2=_slicedToArray(_useState,2),isProcessing=_useState2[0],setProcessingTo=_useState2[1];var _useState3=useState(),_useState4=_slicedToArray(_useState3,2),checkoutError=_useState4[0],setChecoutError=_useState4[1];var sessionId;var stripe=window.Stripe(\"pk_test_2do6pJchuMIGtZ2cqrLgDjM300sB7DRzbF\");useEffect(function(){fetch(\"https://todoist-server.herokuapp.com/charge\",{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify({})}).then(function(r){return r.json();}).then(function(response){sessionId=response.id;console.log(response.id);});});var handleClick=function handleClick(e){e.preventDefault();stripe.redirectToCheckout({sessionId:sessionId});};return React.createElement(\"div\",{className:\"homeWrapper\"},React.createElement(\"section\",null,React.createElement(\"div\",{className:\"heroWrapper\"},React.createElement(\"h1\",null,\"Join Todoist Gold\"),React.createElement(\"a\",{onClick:handleClick},\"Let's do this!\")),React.createElement(\"img\",{className:\"home-hero\",src:\"/image/fish-trophy.png\",alt:\"cartoon cat and rat looking at each other\"})));};export default Checkout;","map":{"version":3,"sources":["C:/Users/Owner/Documents/cool-todo-list/client/src/pages/Checkout.js"],"names":["React","useState","useEffect","Checkout","price","isProcessing","setProcessingTo","checkoutError","setChecoutError","sessionId","stripe","window","Stripe","fetch","method","headers","body","JSON","stringify","then","r","json","response","id","console","log","handleClick","e","preventDefault","redirectToCheckout"],"mappings":"yIAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,CAA0BC,SAA1B,KAA2C,OAA3C,CAEA,GAAMC,CAAAA,QAAQ,CAAG,QAAXA,CAAAA,QAAW,MAAe,IAAZC,CAAAA,KAAY,MAAZA,KAAY,eACUH,QAAQ,CAAC,KAAD,CADlB,wCACvBI,YADuB,eACTC,eADS,8BAEWL,QAAQ,EAFnB,yCAEvBM,aAFuB,eAERC,eAFQ,eAG9B,GAAIC,CAAAA,SAAJ,CACA,GAAMC,CAAAA,MAAM,CAAGC,MAAM,CAACC,MAAP,CAAc,4CAAd,CAAf,CAEAV,SAAS,CAAC,UAAM,CACdW,KAAK,CAAC,6CAAD,CAAgD,CACnDC,MAAM,CAAE,MAD2C,CAEnDC,OAAO,CAAE,CACP,eAAgB,kBADT,CAF0C,CAKnDC,IAAI,CAAEC,IAAI,CAACC,SAAL,CAAe,EAAf,CAL6C,CAAhD,CAAL,CAOGC,IAPH,CAOQ,SAASC,CAAT,CAAY,CAChB,MAAOA,CAAAA,CAAC,CAACC,IAAF,EAAP,CACD,CATH,EAUGF,IAVH,CAUQ,SAASG,QAAT,CAAmB,CACvBb,SAAS,CAAGa,QAAQ,CAACC,EAArB,CACAC,OAAO,CAACC,GAAR,CAAYH,QAAQ,CAACC,EAArB,EACD,CAbH,EAcD,CAfQ,CAAT,CAiBA,GAAMG,CAAAA,WAAW,CAAG,QAAdA,CAAAA,WAAc,CAAAC,CAAC,CAAI,CACvBA,CAAC,CAACC,cAAF,GACAlB,MAAM,CAACmB,kBAAP,CAA0B,CACxBpB,SAAS,CAAEA,SADa,CAA1B,EAGD,CALD,CAOA,MACE,4BAAK,SAAS,CAAC,aAAf,EACE,mCACE,2BAAK,SAAS,CAAC,aAAf,EACE,kDADF,CAEE,yBAAG,OAAO,CAAEiB,WAAZ,mBAFF,CADF,CAKE,2BACE,SAAS,CAAC,WADZ,CAEE,GAAG,CAAC,wBAFN,CAGE,GAAG,CAAC,2CAHN,EALF,CADF,CADF,CAeD,CA7CD,CA+CA,cAAevB,CAAAA,QAAf","sourcesContent":["import React, { useState, useEffect } from \"react\";\r\n\r\nconst Checkout = ({ price }) => {\r\n  const [isProcessing, setProcessingTo] = useState(false);\r\n  const [checkoutError, setChecoutError] = useState();\r\n  let sessionId;\r\n  const stripe = window.Stripe(\"pk_test_2do6pJchuMIGtZ2cqrLgDjM300sB7DRzbF\");\r\n\r\n  useEffect(() => {\r\n    fetch(\"https://todoist-server.herokuapp.com/charge\", {\r\n      method: \"POST\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\"\r\n      },\r\n      body: JSON.stringify({})\r\n    })\r\n      .then(function(r) {\r\n        return r.json();\r\n      })\r\n      .then(function(response) {\r\n        sessionId = response.id;\r\n        console.log(response.id);\r\n      });\r\n  });\r\n\r\n  const handleClick = e => {\r\n    e.preventDefault();\r\n    stripe.redirectToCheckout({\r\n      sessionId: sessionId\r\n    });\r\n  };\r\n\r\n  return (\r\n    <div className=\"homeWrapper\">\r\n      <section>\r\n        <div className=\"heroWrapper\">\r\n          <h1>Join Todoist Gold</h1>\r\n          <a onClick={handleClick}>Let's do this!</a>\r\n        </div>\r\n        <img\r\n          className=\"home-hero\"\r\n          src=\"/image/fish-trophy.png\"\r\n          alt=\"cartoon cat and rat looking at each other\"\r\n        />\r\n      </section>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Checkout;\r\n"]},"metadata":{},"sourceType":"module"}