{"ast":null,"code":"import _toConsumableArray from\"C:\\\\Users\\\\Owner\\\\Documents\\\\cool-todo-list\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/toConsumableArray\";import _slicedToArray from\"C:\\\\Users\\\\Owner\\\\Documents\\\\cool-todo-list\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import React,{useState}from\"react\";import{firebase}from\"../firebase\";import{generatePushId}from\"../helpers\";import{useProjectsValue}from\"../context\";import{connect}from\"react-redux\";var AddProject=function AddProject(_ref){var _ref$shouldShow=_ref.shouldShow,shouldShow=_ref$shouldShow===void 0?false:_ref$shouldShow,loggedIn=_ref.loggedIn;var _useState=useState(shouldShow),_useState2=_slicedToArray(_useState,2),show=_useState2[0],setShow=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),projectName=_useState4[0],setProjectName=_useState4[1];var projectId=generatePushId();var _useProjectsValue=useProjectsValue(),projects=_useProjectsValue.projects,setProjects=_useProjectsValue.setProjects;console.log(\"loggedIn\",loggedIn);var addProject=function addProject(){return projectName&&firebase.firestore().collection(\"projects\").add({projectId:projectId,name:projectName,userId:loggedIn.uid}).then(function(){setProjects(_toConsumableArray(projects));setProjectName(\"\");setShow(false);//after submission, modal closes\n});};return React.createElement(\"div\",{className:\"add-project\",\"data-testid\":\"add-project\"},show&&React.createElement(\"div\",{className:\"add-project__input\",\"data-testid\":\"add-project-inner\"},React.createElement(\"input\",{value:projectName,onChange:function onChange(e){return setProjectName(e.target.value);},className:\"add-project__name\",\"data-testid\":\"project-name\",type:\"text\",placeholder:\"Name your project\"}),React.createElement(\"button\",{className:\"add-project__submit\",type:\"button\",onClick:function onClick(){return addProject();},\"data-testid\":\"add-project-submit\"},\"Add Project\"),React.createElement(\"span\",{\"data-testid\":\"hide-project-overlay\",className:\"add-project__cancel\",onClick:function onClick(){return setShow(false);},onKeyDown:function onKeyDown(){return setShow(false);},role:\"button\",tabIndex:0},\"Cancel\")),React.createElement(\"span\",{className:\"add-project__plus\"},\"+\"),React.createElement(\"span\",{\"aria-label\":\"Add Project\",\"data-testid\":\"add-project-action\",className:\"add-project-action\",onClick:function onClick(){return setShow(!show);},onKeyDown:function onKeyDown(){return setShow(!show);},role:\"button\",tabIndex:0},\"Add Project\"));};var mapStateToProps=function mapStateToProps(_ref2){var firebase=_ref2.firebase;return{loggedIn:firebase.auth};};export default connect(mapStateToProps,null)(AddProject);","map":{"version":3,"sources":["C:/Users/Owner/Documents/cool-todo-list/client/src/components/AddProject.js"],"names":["React","useState","firebase","generatePushId","useProjectsValue","connect","AddProject","shouldShow","loggedIn","show","setShow","projectName","setProjectName","projectId","projects","setProjects","console","log","addProject","firestore","collection","add","name","userId","uid","then","e","target","value","mapStateToProps","auth"],"mappings":"0RAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,KAAgC,OAAhC,CACA,OAASC,QAAT,KAAyB,aAAzB,CACA,OAASC,cAAT,KAA+B,YAA/B,CACA,OAASC,gBAAT,KAAiC,YAAjC,CAEA,OAASC,OAAT,KAAwB,aAAxB,CAEA,GAAMC,CAAAA,UAAU,CAAG,QAAbA,CAAAA,UAAa,MAAsC,0BAAnCC,UAAmC,CAAnCA,UAAmC,0BAAtB,KAAsB,iBAAfC,QAAe,MAAfA,QAAe,eAC/BP,QAAQ,CAACM,UAAD,CADuB,wCAChDE,IADgD,eAC1CC,OAD0C,8BAEjBT,QAAQ,CAAC,EAAD,CAFS,yCAEhDU,WAFgD,eAEnCC,cAFmC,eAIvD,GAAMC,CAAAA,SAAS,CAAGV,cAAc,EAAhC,CAJuD,sBAKrBC,gBAAgB,EALK,CAK/CU,QAL+C,mBAK/CA,QAL+C,CAKrCC,WALqC,mBAKrCA,WALqC,CAMvDC,OAAO,CAACC,GAAR,CAAY,UAAZ,CAAwBT,QAAxB,EACA,GAAMU,CAAAA,UAAU,CAAG,QAAbA,CAAAA,UAAa,SACjBP,CAAAA,WAAW,EACXT,QAAQ,CACLiB,SADH,GAEGC,UAFH,CAEc,UAFd,EAGGC,GAHH,CAGO,CACHR,SAAS,CAATA,SADG,CAEHS,IAAI,CAAEX,WAFH,CAGHY,MAAM,CAAEf,QAAQ,CAACgB,GAHd,CAHP,EAQGC,IARH,CAQQ,UAAM,CACVV,WAAW,oBAAKD,QAAL,EAAX,CACAF,cAAc,CAAC,EAAD,CAAd,CACAF,OAAO,CAAC,KAAD,CAAP,CAAgB;AACjB,CAZH,CAFiB,EAAnB,CAeA,MACE,4BAAK,SAAS,CAAC,aAAf,CAA6B,cAAY,aAAzC,EACGD,IAAI,EACH,2BAAK,SAAS,CAAC,oBAAf,CAAoC,cAAY,mBAAhD,EACE,6BACE,KAAK,CAAEE,WADT,CAEE,QAAQ,CAAE,kBAAAe,CAAC,QAAId,CAAAA,cAAc,CAACc,CAAC,CAACC,MAAF,CAASC,KAAV,CAAlB,EAFb,CAGE,SAAS,CAAC,mBAHZ,CAIE,cAAY,cAJd,CAKE,IAAI,CAAC,MALP,CAME,WAAW,CAAC,mBANd,EADF,CASE,8BACE,SAAS,CAAC,qBADZ,CAEE,IAAI,CAAC,QAFP,CAGE,OAAO,CAAE,yBAAMV,CAAAA,UAAU,EAAhB,EAHX,CAIE,cAAY,oBAJd,gBATF,CAiBE,4BACE,cAAY,sBADd,CAEE,SAAS,CAAC,qBAFZ,CAGE,OAAO,CAAE,yBAAMR,CAAAA,OAAO,CAAC,KAAD,CAAb,EAHX,CAIE,SAAS,CAAE,2BAAMA,CAAAA,OAAO,CAAC,KAAD,CAAb,EAJb,CAKE,IAAI,CAAC,QALP,CAME,QAAQ,CAAE,CANZ,WAjBF,CAFJ,CA+BE,4BAAM,SAAS,CAAC,mBAAhB,MA/BF,CAgCE,4BACE,aAAW,aADb,CAEE,cAAY,oBAFd,CAGE,SAAS,CAAC,oBAHZ,CAIE,OAAO,CAAE,yBAAMA,CAAAA,OAAO,CAAC,CAACD,IAAF,CAAb,EAJX,CAKE,SAAS,CAAE,2BAAMC,CAAAA,OAAO,CAAC,CAACD,IAAF,CAAb,EALb,CAME,IAAI,CAAC,QANP,CAOE,QAAQ,CAAE,CAPZ,gBAhCF,CADF,CA8CD,CApED,CAsEA,GAAMoB,CAAAA,eAAe,CAAG,QAAlBA,CAAAA,eAAkB,WAAG3B,CAAAA,QAAH,OAAGA,QAAH,OAAmB,CACzCM,QAAQ,CAAEN,QAAQ,CAAC4B,IADsB,CAAnB,EAAxB,CAIA,cAAezB,CAAAA,OAAO,CAACwB,eAAD,CAAkB,IAAlB,CAAP,CAA+BvB,UAA/B,CAAf","sourcesContent":["import React, { useState } from \"react\";\r\nimport { firebase } from \"../firebase\";\r\nimport { generatePushId } from \"../helpers\";\r\nimport { useProjectsValue } from \"../context\";\r\nimport PropTypes from \"prop-types\";\r\nimport { connect } from \"react-redux\";\r\n\r\nconst AddProject = ({ shouldShow = false, loggedIn }) => {\r\n  const [show, setShow] = useState(shouldShow);\r\n  const [projectName, setProjectName] = useState(\"\");\r\n\r\n  const projectId = generatePushId();\r\n  const { projects, setProjects } = useProjectsValue();\r\n  console.log(\"loggedIn\", loggedIn);\r\n  const addProject = () =>\r\n    projectName &&\r\n    firebase\r\n      .firestore()\r\n      .collection(\"projects\")\r\n      .add({\r\n        projectId,\r\n        name: projectName,\r\n        userId: loggedIn.uid\r\n      })\r\n      .then(() => {\r\n        setProjects([...projects]);\r\n        setProjectName(\"\");\r\n        setShow(false); //after submission, modal closes\r\n      });\r\n  return (\r\n    <div className=\"add-project\" data-testid=\"add-project\">\r\n      {show && (\r\n        <div className=\"add-project__input\" data-testid=\"add-project-inner\">\r\n          <input\r\n            value={projectName}\r\n            onChange={e => setProjectName(e.target.value)}\r\n            className=\"add-project__name\"\r\n            data-testid=\"project-name\"\r\n            type=\"text\"\r\n            placeholder=\"Name your project\"\r\n          />\r\n          <button\r\n            className=\"add-project__submit\"\r\n            type=\"button\"\r\n            onClick={() => addProject()}\r\n            data-testid=\"add-project-submit\"\r\n          >\r\n            Add Project\r\n          </button>\r\n          <span\r\n            data-testid=\"hide-project-overlay\"\r\n            className=\"add-project__cancel\"\r\n            onClick={() => setShow(false)}\r\n            onKeyDown={() => setShow(false)}\r\n            role=\"button\"\r\n            tabIndex={0}\r\n          >\r\n            Cancel\r\n          </span>\r\n        </div>\r\n      )}\r\n      <span className=\"add-project__plus\">+</span>\r\n      <span\r\n        aria-label=\"Add Project\"\r\n        data-testid=\"add-project-action\"\r\n        className=\"add-project-action\"\r\n        onClick={() => setShow(!show)}\r\n        onKeyDown={() => setShow(!show)}\r\n        role=\"button\"\r\n        tabIndex={0}\r\n      >\r\n        Add Project\r\n      </span>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = ({ firebase }) => ({\r\n  loggedIn: firebase.auth\r\n});\r\n\r\nexport default connect(mapStateToProps, null)(AddProject);\r\n\r\nAddProject.propTypes = {\r\n  shouldShow: PropTypes.bool\r\n};\r\n"]},"metadata":{},"sourceType":"module"}